"use strict";(self.webpackChunkFlex=self.webpackChunkFlex||[]).push([[633],{7633:(P,u,a)=>{a.r(u),a.d(u,{BuyRoutingModule:()=>I});var c=a(5865),l=a(177),e=a(4438),p=a(5725);const m=r=>["/buy/buyDetails",r];function b(r,s){if(1&r&&(e.j41(0,"div",3)(1,"div",4),e.nrm(2,"img",5),e.j41(3,"div",6)(4,"div",7)(5,"button",8),e.EFF(6),e.k0s()(),e.j41(7,"div",9)(8,"button",10),e.EFF(9),e.k0s()()(),e.j41(10,"div",11)(11,"h5",12),e.EFF(12),e.k0s()()()()),2&r){const n=s.$implicit;e.R7$(),e.Y8G("routerLink",e.eq3(6,m,n.carId)),e.R7$(),e.Y8G("src",n.carImages[0],e.B4B)("alt",n.name),e.R7$(4),e.SpI("\u20b9 ",n.carPrice,""),e.R7$(3),e.JRh(n.carPurpose),e.R7$(3),e.JRh(n.carBrand)}}let h=(()=>{class r{router;carService;buyCars=[];constructor(n,o){this.router=n,this.carService=o}ngOnInit(){this.carService.getCarsByPurpose("Buy").subscribe(n=>this.buyCars=n)}navigateToSignUp(){this.router.navigate(["login"],{queryParams:{toLogin:!0}})}static \u0275fac=function(o){return new(o||r)(e.rXU(c.Ix),e.rXU(p.K))};static \u0275cmp=e.VBU({type:r,selectors:[["app-buy-car"]],standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[[1,"mt-4"],[1,"container"],["class","mx-auto",4,"ngFor","ngForOf"],[1,"mx-auto"],["routerLinkActive","active",1,"card","mb-4",3,"routerLink"],[1,"card-img-top","img-fluid",3,"src","alt"],[1,"card-body","text-dark"],[1,"text-center"],[1,"btn","m-0","btnPrice"],[1,"card-text","text-center","mt-2"],[1,"btn","btnPurpose"],[1,"card-footer"],[1,"card-title"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,b,13,8,"div",2),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("ngForOf",t.buyCars))},dependencies:[c.Wk,c.wQ,l.pM],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{border-radius:15px;margin:25px;background-color:#c0c5cc}img[_ngcontent-%COMP%]{border-top-left-radius:15px;border-top-right-radius:15px}.card-footer[_ngcontent-%COMP%]{text-align:center}.card-body[_ngcontent-%COMP%]{background-color:#e8e9eb}.btnPrice[_ngcontent-%COMP%]{background-color:#c0c5cc;width:150px}.btnPurpose[_ngcontent-%COMP%]{background-color:#74a774;border-color:#74a774}.btnPurpose[_ngcontent-%COMP%]:hover{background-color:green;border-radius:green}.card[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translateY(-15px) translate(+15px)}@keyframes _ngcontent-%COMP%_appear{0%{opacity:0;scale:.5}to{opacity:1;scale:1}}.card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_appear 5s;animation-timeline:view();animation-range:entry 0% cover 40%}.container[_ngcontent-%COMP%]{padding-top:50px}.card[_ngcontent-%COMP%]{box-shadow:0 10px 10px #0003}"]})}return r})();var v=a(1562),C=a(7869),k=a(5085);const d=r=>({show:r}),g=r=>({display:r});function F(r,s){if(1&r){const n=e.RV6();e.j41(0,"img",44),e.bIt("click",function(){const t=e.eBV(n).index,i=e.XpG();return e.Njj(i.openImage(t))}),e.k0s()}2&r&&e.Y8G("src",s.$implicit,e.B4B)}function f(r,s){if(1&r&&(e.j41(0,"div",45),e.nrm(1,"img",46),e.k0s()),2&r){const n=s.$implicit;e.R7$(),e.Y8G("src",n,e.B4B)}}const y=[{path:"",component:h},{path:"buyDetails/:carId",component:(()=>{class r{router;actRoute;carService;authService;carId;carFeatures;car;showCarousel=!1;carImages;imageIndex;showImage=!1;showMainImage=!1;constructor(n,o,t,i){this.router=n,this.actRoute=o,this.carService=t,this.authService=i}ngOnInit(){this.actRoute.params.subscribe(n=>{this.carId=+Number(n.carId),this.carService.getCarById(this.carId).subscribe(o=>this.car=o),this.carFeatures=this.carService.getCarFeatures(this.carId)})}openImage(n){this.imageIndex=n,this.showImage=!this.showImage}handleMainImage(){this.showMainImage=!this.showMainImage}closeModal(){this.showImage=!1}openCarousel(){this.showCarousel=!this.showCarousel}goToLogin(){this.authService.isTokenPresent()||this.router.navigate(["/login"],{queryParams:{toLogin:!0}}),this.authService.verifyToken().subscribe({next:n=>{this.router.navigate(["/login/payment"])},error:n=>{401===n.status?console.log("Session expired. Please login again."):alert("An error occurred. Please try again."),this.router.navigate(["/login"],{queryParams:{toLogin:!0}})}})}static \u0275fac=function(o){return new(o||r)(e.rXU(c.Ix),e.rXU(c.nX),e.rXU(p.K),e.rXU(k.k))};static \u0275cmp=e.VBU({type:r,selectors:[["app-buy-details"]],standalone:!0,features:[e.Jv_([{provide:v.a7,useValue:C.y,multi:!0}]),e.aNF],decls:109,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-9","main"],["alt","",1,"mainImage","img-fluid",3,"click","src"],[1,"photosButton","btn","btn-danger",3,"click"],[1,"d-flex","flex-column","align-items-between","justify-content-between","sideImages","col-3"],["class","col-4 sideImage img-fluid",3,"src","click",4,"ngFor","ngForOf"],[1,"features"],[1,"btn","btnWidth"],[1,"btn","btnWidth","btnPurpose",3,"click"],[1,"container2","mt-5"],[1,"container3","border-dark","card","card-custom-shadow",2,"margin","20px 300px 0px 0px"],[1,"card-body","border-secondary","d-grid","grid",2,"margin","0px 30px 30px 30px"],[1,"row","icon"],[1,"col-2"],["src","IconFeature/carBrand.png",1,"featureLogo","col-4"],[1,"col-10"],[1,"ms-2",2,"display","block"],[1,"brand","ms-2"],["src","IconFeature/Price tag.png",1,"featureLogo","col-4"],["src","IconFeature/purpose.png",1,"featureLogo","col-4"],["src","IconFeature/Transmission.svg",1,"featureLogo","col-4"],["src","IconFeature/engine.png",1,"featureLogo","col-4"],["src","IconFeature/AirBags.jpg",1,"featureLogo","col-4"],["src","IconFeature/Fuel.png",1,"featureLogo","col-4"],[1,"modal","modal-lg",3,"ngClass","ngStyle"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","openImageModal"],["alt","",1,"openImage",3,"src"],[1,"btn","btn-danger","close",3,"click"],[1,"modal-content"],["id","demo",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#demo","data-bs-slide-to","0",1,"active"],["type","button","data-bs-target","#demo","data-bs-slide-to","1"],["type","button","data-bs-target","#demo","data-bs-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],[1,"d-block","w-100","carouselImage",3,"src"],["class","carousel-item ",4,"ngFor","ngForOf"],["type","button","data-bs-target","#demo","data-bs-slide","prev",1,"carousel-control-prev"],[1,"carousel-control-prev-icon"],["type","button","data-bs-target","#demo","data-bs-slide","next",1,"carousel-control-next"],[1,"carousel-control-next-icon"],[1,"col-4","sideImage","img-fluid",3,"click","src"],[1,"carousel-item"],[1,"col-4","img-fluid","carouselImage",3,"src"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),e.bIt("click",function(){return t.handleMainImage()}),e.k0s(),e.j41(4,"button",4),e.bIt("click",function(){return t.openCarousel()}),e.EFF(5,"See all photos"),e.k0s()(),e.j41(6,"div",5),e.DNE(7,F,1,1,"img",6),e.k0s()(),e.j41(8,"div",7)(9,"div")(10,"h5",8),e.EFF(11),e.k0s()(),e.j41(12,"div")(13,"a",8),e.EFF(14),e.k0s()(),e.j41(15,"div")(16,"Button",9),e.bIt("click",function(){return t.goToLogin()}),e.EFF(17),e.k0s()()(),e.j41(18,"div",10)(19,"h4"),e.EFF(20,"Know more about this Car"),e.k0s(),e.j41(21,"div",11)(22,"div",12)(23,"div",13)(24,"div",14),e.nrm(25,"img",15),e.k0s(),e.j41(26,"div",16)(27,"a",17),e.EFF(28,"Car brand"),e.k0s(),e.j41(29,"strong",18),e.EFF(30),e.k0s()()(),e.j41(31,"div",13)(32,"div",14),e.nrm(33,"img",19),e.k0s(),e.j41(34,"div",16)(35,"a",17),e.EFF(36,"Car Price"),e.k0s(),e.j41(37,"strong",18),e.EFF(38),e.k0s()()(),e.j41(39,"div",13)(40,"div",14),e.nrm(41,"img",20),e.k0s(),e.j41(42,"div",16)(43,"a",17),e.EFF(44,"Car Purpose"),e.k0s(),e.j41(45,"strong",18),e.EFF(46),e.k0s()()(),e.j41(47,"div",13)(48,"div",14),e.nrm(49,"img",21),e.k0s(),e.j41(50,"div",16)(51,"a",17),e.EFF(52,"Transmission"),e.k0s(),e.j41(53,"strong",18),e.EFF(54),e.k0s()()(),e.j41(55,"div",13)(56,"div",14),e.nrm(57,"img",22),e.k0s(),e.j41(58,"div",16)(59,"a",17),e.EFF(60,"Engine Type"),e.k0s(),e.j41(61,"strong",18),e.EFF(62),e.k0s()()(),e.j41(63,"div",13)(64,"div",14),e.nrm(65,"img",23),e.k0s(),e.j41(66,"div",16)(67,"a",17),e.EFF(68,"Air Bags"),e.k0s(),e.j41(69,"strong",18),e.EFF(70),e.k0s()()(),e.j41(71,"div",13)(72,"div",14),e.nrm(73,"img",24),e.k0s(),e.j41(74,"div",16)(75,"a",17),e.EFF(76,"Fuel Tank Capacity"),e.k0s(),e.j41(77,"strong",18),e.EFF(78),e.k0s()()()()()()(),e.j41(79,"div",25)(80,"div",26)(81,"div",27),e.nrm(82,"img",28),e.j41(83,"a",29),e.bIt("click",function(){return t.handleMainImage()}),e.EFF(84,"\xd7"),e.k0s()()()(),e.j41(85,"div",25)(86,"div",26)(87,"div",27),e.nrm(88,"img",28),e.j41(89,"a",29),e.bIt("click",function(){return t.closeModal()}),e.EFF(90,"\xd7"),e.k0s()()()(),e.j41(91,"div",25)(92,"div",26)(93,"div",30)(94,"div",31)(95,"div",32),e.nrm(96,"button",33)(97,"button",34)(98,"button",35),e.k0s(),e.j41(99,"div",36)(100,"div",37),e.nrm(101,"img",38),e.k0s(),e.DNE(102,f,2,1,"div",39),e.k0s(),e.j41(103,"button",40),e.nrm(104,"span",41),e.k0s(),e.j41(105,"button",42),e.nrm(106,"span",43),e.k0s()(),e.j41(107,"a",29),e.bIt("click",function(){return t.openCarousel()}),e.EFF(108,"\xd7"),e.k0s()()()()),2&o&&(e.R7$(3),e.Y8G("src",t.car.carImages[0],e.B4B),e.R7$(4),e.Y8G("ngForOf",t.car.carImages.slice(1)),e.R7$(4),e.JRh(t.car.carBrand),e.R7$(3),e.SpI("Price : \u20b9 ",t.car.carPrice,""),e.R7$(3),e.JRh(t.car.carPurpose),e.R7$(13),e.JRh(t.car.carBrand),e.R7$(8),e.SpI("\u20b9 ",t.car.carPrice,""),e.R7$(8),e.JRh(t.car.carPurpose),e.R7$(8),e.JRh(null==t.car.carFeatures[0]?null:t.car.carFeatures[0].transmissionType),e.R7$(8),e.JRh(null==t.car.carFeatures[0]?null:t.car.carFeatures[0].engineType),e.R7$(8),e.SpI("",null==t.car.carFeatures[0]?null:t.car.carFeatures[0].airBags," Nos"),e.R7$(8),e.SpI("",null==t.car.carFeatures[0]?null:t.car.carFeatures[0].fuelTankCapacity," Litres"),e.R7$(),e.Y8G("ngClass",e.eq3(22,d,t.showMainImage))("ngStyle",e.eq3(24,g,t.showMainImage?"block":"none")),e.R7$(3),e.Y8G("src",t.car.carImages[0],e.B4B),e.R7$(3),e.Y8G("ngClass",e.eq3(26,d,t.showImage))("ngStyle",e.eq3(28,g,t.showImage?"block":"none")),e.R7$(3),e.Y8G("src",t.car.carImages[t.imageIndex+1],e.B4B),e.R7$(3),e.Y8G("ngClass",e.eq3(30,d,t.showCarousel))("ngStyle",e.eq3(32,g,t.showCarousel?"block":"none")),e.R7$(10),e.Y8G("src",t.car.carImages[0],e.B4B),e.R7$(),e.Y8G("ngForOf",t.car.carImages.slice(1)))},dependencies:[l.pM,l.YU,l.B3],styles:[".container[_ngcontent-%COMP%]{margin:70px 50px 100px}.container2[_ngcontent-%COMP%]{margin-left:30px}.mainImage[_ngcontent-%COMP%]{border-radius:20px;height:100%}.sideImage[_ngcontent-%COMP%]{border-radius:10px;width:100%}.container[_ngcontent-%COMP%]{max-width:1200px}img[_ngcontent-%COMP%]:hover{cursor:pointer}.main[_ngcontent-%COMP%]{position:relative}.photosButton[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;padding:10px 15px}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:0 10px;font-size:30px}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);height:auto;width:5%;height:10%;background-color:red;padding:0;opacity:1}.carousel-control-next-icon[_ngcontent-%COMP%]{color:#000}.carousel-indicators.active[_ngcontent-%COMP%]{background-color:red}.openImage[_ngcontent-%COMP%], .openImageModal[_ngcontent-%COMP%]{border-radius:25px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:25px;width:100%;height:100%;object-fit:cover}.modal[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.modal-content[_ngcontent-%COMP%]{border-radius:25px}.features[_ngcontent-%COMP%]{margin:50px 200px 20px 0;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}.btnWidth[_ngcontent-%COMP%]{height:50px;background-color:#e8e9eb;font-size:25px;width:250px;color:#000;margin:20px}.btnCrud[_ngcontent-%COMP%]{height:50px;font-size:25px;width:250px;color:#000;margin-left:320px}.featureLogo[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:10px}.card-body[_ngcontent-%COMP%]{margin-top:30px 30px 30px 30px}.card-custom-shadow[_ngcontent-%COMP%]{box-shadow:0 10px 10px #0003;border-color:#e8e9eb}.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(180px,250px))}.icon[_ngcontent-%COMP%]{margin:30px 0}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.btnPurpose[_ngcontent-%COMP%]{width:150px}.btnPurpose[_ngcontent-%COMP%]:hover{background-color:green;border-color:green}"]})}return r})()}];let I=(()=>{class r{static \u0275fac=function(o){return new(o||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({imports:[c.iI.forChild(y),c.iI]})}return r})()}}]);